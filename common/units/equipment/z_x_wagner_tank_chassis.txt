# This file must be evaluated after the file(s) defining the archetypes being duplicated.
# The equipment attributes alias, type, variant_name, and derived_variant_name are not duplicated.

duplicate_archetypes = {

	# light_tank

	light_tank_aa_chassis = {
		archetype = light_tank_chassis
		type = { armor anti_air }

		for_each = {
			# For each duplicated equipment type (excluding the archetype), set variant_name by taking what would be
			# used as the localization key (the name of the type) and run a find-and-replace on it.
			# Example: light_tank_aa_chassis_1 gets variant_name light_tank_aa_equipment_1.
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.5 }
		}
	}

	light_tank_artillery_chassis = {
		archetype = light_tank_chassis
		type = { armor artillery }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.5 }
		}
	}

	light_tank_destroyer_chassis = {
		archetype = light_tank_chassis
		type = { armor anti_tank }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
		}
	}

	light_tank_amphibious_chassis = {
		archetype = light_tank_chassis
		type = { armor amphibious }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.55 }
		}
	}

	light_tank_airmobile_chassis = {
		archetype = light_tank_chassis
		type = { armor }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.5 }
		}
	}

	light_tank_flame_chassis = {
		archetype = light_tank_chassis
		type = { armor flame }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
		}
	}

	# medium_tank

	medium_tank_aa_chassis = {
		archetype = medium_tank_chassis
		type = { armor anti_air }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.65 }
		}
	}

	medium_tank_artillery_chassis = {
		archetype = medium_tank_chassis
		type = { armor artillery }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.65 }
		}
	}

	medium_tank_destroyer_chassis = {
		archetype = medium_tank_chassis
		type = { armor anti_tank }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
		}
	}

	medium_tank_amphibious_chassis = {
		archetype = medium_tank_chassis
		type = { armor amphibious }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.7 }
		}
	}

	medium_tank_flame_chassis = {
		archetype = medium_tank_chassis
		type = { armor flame }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
		}
	}

	# heavy_tank

	heavy_tank_aa_chassis = {
		archetype = heavy_tank_chassis
		type = { armor anti_air }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.8 }
		}
	}

	heavy_tank_artillery_chassis = {
		archetype = heavy_tank_chassis
		type = { armor artillery }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.8 }
		}
	}

	heavy_tank_destroyer_chassis = {
		archetype = heavy_tank_chassis
		type = { armor anti_tank }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
		}
	}

	heavy_tank_amphibious_chassis = {
		archetype = heavy_tank_chassis
		type = { armor amphibious }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.8 }
		}
	}

	heavy_tank_flame_chassis = {
		archetype = heavy_tank_chassis
		type = { armor flame }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
		}
	}

	# superheavy tank

	super_heavy_tank_aa_chassis = {
		archetype = super_heavy_tank_chassis
		type = { armor anti_air }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.9 }
		}
	}

	super_heavy_tank_artillery_chassis = {
		archetype = super_heavy_tank_chassis
		type = { armor artillery }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.9 }
		}
	}

	super_heavy_tank_destroyer_chassis = {
		archetype = super_heavy_tank_chassis
		type = { armor anti_tank }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
		}
	}

	# modern tank

	modern_tank_aa_chassis = {
		archetype = modern_tank_chassis
		type = { armor anti_air }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.85 }
		}
	}

	modern_tank_artillery_chassis = {
		archetype = modern_tank_chassis
		type = { armor artillery }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
			hardness = { set = 0.85 }
		}
	}

	modern_tank_destroyer_chassis = {
		archetype = modern_tank_chassis
		type = { armor anti_tank }
		for_each = {
			variant_name = { find_and_replace = { "chassis" "equipment" } }
		}
	}
}

equipments = {
	modern_tank_equipment_3 = {
		#year = 1945
	
		archetype = modern_tank_chassis
		priority = 170
		visual_level = 0
		is_convertable = yes
	
		upgrades = {
			tank_reliability_upgrade
			tank_engine_upgrade
			tank_armor_upgrade
			tank_gun_upgrade
		}
	
		#Misc Abilities
		maximum_speed = 18
	
		#Defensive Abilities
		defense = 19.5
		breakthrough = 135
		hardness = 0.98  # 이미 최대치에 가까워 변경하지 않았습니다
		armor_value = 210
	
		#Offensive Abilities
		soft_attack = 75
		hard_attack = 60
		ap_attack = 210
		air_attack = 0
	
		#Space taken in convoy
		lend_lease_cost = 21
	
		build_cost_ic = 43.5
		resources = {
			steel = 3
			chromium = 4
		}
		fuel_consumption = 7.5
	}
	
	modern_tank_artillery_equipment_3 = {
		#year = 1945
	
		archetype = modern_tank_artillery_chassis
		parent = modern_tank_artillery_equipment_1
		priority = 180
		visual_level = 0
		can_convert_from = { 
			modern_tank_equipment_3
		}
		upgrades = {
			tank_reliability_upgrade
			tank_engine_upgrade
			tank_armor_upgrade
			tank_art_upgrade
		}
		#Misc Abilities
		maximum_speed = 18
	
		#Defensive Abilities
		defense = 36
		breakthrough = 18
		armor_value = 159
	
		#Offensive Abilities
		soft_attack = 165
		hard_attack = 6
	
		build_cost_ic = 45
	
		resources = {
			steel = 5
			chromium = 6
		}
		fuel_consumption = 3.75
		is_convertable = yes
	}
	
	modern_tank_aa_equipment_3 = {
		#year = 1945
	
		archetype = modern_tank_aa_chassis
		parent = modern_tank_artillery_equipment_1
		priority = 190
		visual_level = 0
		can_convert_from = { 
			modern_tank_equipment_3 
		}
		upgrades = {
			tank_reliability_upgrade
			tank_engine_upgrade
			tank_armor_upgrade
			tank_aa_upgrade
		}
		#Misc Abilities
		maximum_speed = 18
	
		#Defensive Abilities
		defense = 6.75
		breakthrough = 7.5
		armor_value = 159
	
		#Offensive Abilities
		soft_attack = 18
		hard_attack = 15.75
		ap_attack = 180
		air_attack = 103.5
	
		build_cost_ic = 45
	
		resources = {
			steel = 5
			chromium = 6
		}
		is_convertable = yes
		fuel_consumption = 1.875
	}
}